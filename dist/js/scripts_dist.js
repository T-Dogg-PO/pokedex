let pokemonRepository=function(){let t=[],e="https://pokeapi.co/api/v2/pokemon/?limit=151";function o(e){t.push(e)}function n(){return t}function i(){return document.querySelector("#loading").style.display="block",fetch(e).then(function(t){return t.json()}).then(function(t){t.results.forEach(function(t){let e={name:t.name,detailsUrl:t.url};e.name=e.name.charAt(0).toUpperCase()+e.name.slice(1),o(e)}),s()}).catch(function(t){console.error(t),s()})}function p(t){c();let e=t.detailsUrl;return fetch(e).then(function(t){return t.json()}).then(function(e){t.imageUrl=e.sprites.other["official-artwork"].front_default,t.height=e.height,t.types=e.types,r()}).catch(function(t){console.error(t),r()})}function a(t){let e=$("#pokemon-list"),o=$('<li class="list-group-item col col-lg-3 border-0"></li>'),n=$(`<button type="button" data-toggle="modal" data-target="#pokemonModal" class="btn btn-block">${t.name}</button>`);o.append(n),e.append(o),n.on("click",function(){l(t)})}function l(t){p(t).then(function(){let e=$("#pokemon-modal-header"),o=$("#pokemon-modal-body");o.empty(),e.empty(),c();let n=$(`<h1 class="w-100 text-center">${t.name}</h1>`),i=$(`<p class="text-center">Height: ${t.height/10}m</p>`),p=$('<p class="text-center">Types: </p>');t.types.forEach(function(t){let e=$(`<span class="${t.type.name} pokemon-type text-center"></span>`),o=t.type.name.charAt(0).toUpperCase()+t.type.name.slice(1);e.text(`${o} `),p.append(e)});let a=$(`<img class="img-fluid" src="${t.imageUrl}">`),l=$('<button type="button" class="btn-close" data-dismiss="modal" aria-label="close">X</button>');r(),e.append(n),e.append(l),o.append(i),o.append(p),o.append(a)})}function s(){document.querySelector("#loading").style.display="none"}function c(){document.querySelector("#loading-modal").style.display="block"}function r(){document.querySelector("#loading-modal").style.display="none"}$(".dropdown-item").on("click",function(){let o=$(this).attr("id"),p=$(this);$(".active").removeClass("active"),p.addClass("active"),"all"===o?e="https://pokeapi.co/api/v2/pokemon/?limit=898":"gen1"===o?e="https://pokeapi.co/api/v2/pokemon/?limit=151":"gen2"===o?e="https://pokeapi.co/api/v2/pokemon/?limit=100&offset=151":"gen3"===o?e="https://pokeapi.co/api/v2/pokemon/?limit=135&offset=251":"gen4"===o?e="https://pokeapi.co/api/v2/pokemon/?limit=107&offset=386":"gen5"===o?e="https://pokeapi.co/api/v2/pokemon/?limit=156&offset=493":"gen6"===o?e="https://pokeapi.co/api/v2/pokemon/?limit=72&offset=649":"gen7"===o?e="https://pokeapi.co/api/v2/pokemon/?limit=88&offset=721":"gen8"===o&&(e="https://pokeapi.co/api/v2/pokemon/?limit=89&offset=809"),$("#pokemon-list").children().remove(),t=[],i().then(function(){n().forEach(function(t){a(t)})})});let m=$("#pokemon-search");return m.on("input",function(){let t=$(".list-group-item"),e=m.val().toLowerCase();t.each(function(){$(this).text().toLowerCase().indexOf(e)>-1?this.style.display="":this.style.display="none"})}),{add:o,getAll:n,loadList:i,loadDetails:p,addListItem:a,showDetails:l}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(t){pokemonRepository.addListItem(t)})});